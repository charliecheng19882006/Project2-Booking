{"version":3,"sources":["utils.js","components/LoginPage.js","components/UploadStay.js","components/HostHomePage.js","components/GuestHomePage.js","App.js","reportWebVitals.js","index.js"],"names":["domain","login","credential","asHost","loginUrl","fetch","method","headers","body","JSON","stringify","then","response","status","Error","json","register","registerUrl","getReservations","authToken","localStorage","getItem","listReservationsUrl","Authorization","getStaysByHost","listStaysUrl","searchStays","query","searchStaysUrl","URL","searchParams","append","guest_number","checkin_date","format","checkout_date","deleteStay","stayId","deleteStayUrl","bookStay","data","bookStayUrl","cancelReservation","reservationId","cancelReservationUrl","getReservationsByStay","getReservationByStayUrl","uploadStay","uploadStayUrl","LoginPage","formRef","React","createRef","state","loading","onFinish","console","log","handleLogin","a","formInstance","current","validateFields","setState","getFieldsValue","resp","props","handleLoginSuccess","token","message","error","handleRegister","success","handleCheckboxOnChange","e","target","checked","style","width","margin","ref","this","Item","name","rules","required","disabled","prefix","UserOutlined","className","placeholder","Password","onChange","onClick","shape","type","Component","layout","labelCol","span","wrapperCol","UploadStay","fileInputRef","handleSubmit","values","formData","FormData","files","length","i","address","description","maxWidth","label","TextArea","autoSize","minRows","maxRows","min","accept","multiple","offset","htmlType","TabPane","Tabs","RemoveStayButton","handleRemoveStay","stay","onRemoveSuccess","id","danger","ReservationList","reservations","loadData","dataSource","renderItem","item","Meta","title","guest","username","ViewReservationsButton","modalVisible","openModal","handleCancel","modalTitle","centered","visible","closable","footer","onCancel","destroyOnClose","StayDetailInfoButton","border","size","icon","InfoCircleOutlined","direction","strong","MyStays","grid","gutter","xs","sm","md","lg","xl","xxl","display","alignItems","ellipsis","actions","extra","dots","arrows","prevArrow","LeftCircleFilled","nextArrow","RightCircleFilled","images","map","image","index","src","url","HostHomePage","defaultActiveKey","destroyInactiveTabPane","tab","Text","Typography","CancelReservationButton","handleCancelReservation","onCancelSuccess","BookStayButton","handleBookStay","preserve","SearchStays","search","marginTop","MyReservations","GuestHomePage","Header","Layout","Content","App","authed","setItem","handleLogOut","removeItem","renderContent","userMenu","height","justifyContent","fontSize","fontWeight","color","trigger","overlay","overflow","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d51f429a.chunk.js","sourcesContent":["const domain = \"http://encoded-shape-326623.ue.r.appspot.com\";\n\nexport const login = (credential, asHost) => {\n    const loginUrl = `${domain}/authenticate/${asHost ? \"host\" : \"guest\"}`;\n    return fetch(loginUrl, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(credential),\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to log in\");\n        }\n\n        return response.json();\n    });\n};\n\nexport const register = (credential, asHost) => {\n    const registerUrl = `${domain}/register/${asHost ? \"host\" : \"guest\"}`;\n    return fetch(registerUrl, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(credential),\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to register\");\n        }\n    });\n};\n\nexport const getReservations = () => {\n    const authToken = localStorage.getItem(\"authToken\");\n    const listReservationsUrl = `${domain}/reservations`;\n\n    return fetch(listReservationsUrl, {\n        headers: {\n            Authorization: `Bearer ${authToken}`,\n        },\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to get reservation list\");\n        }\n\n        return response.json();\n    });\n};\n\nexport const getStaysByHost = () => {\n    const authToken = localStorage.getItem(\"authToken\");\n    const listStaysUrl = `${domain}/stays/`;\n\n    return fetch(listStaysUrl, {\n        headers: {\n            Authorization: `Bearer ${authToken}`,\n        },\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to get stay list\");\n        }\n\n        return response.json();\n    });\n};\n\nexport const searchStays = (query) => {\n    const authToken = localStorage.getItem(\"authToken\");\n    const searchStaysUrl = new URL(`${domain}/search/`);\n    searchStaysUrl.searchParams.append(\"guest_number\", query.guest_number);\n    searchStaysUrl.searchParams.append(\n        \"checkin_date\",\n        query.checkin_date.format(\"YYYY-MM-DD\")\n    );\n    searchStaysUrl.searchParams.append(\n        \"checkout_date\",\n        query.checkout_date.format(\"YYYY-MM-DD\")\n    );\n    searchStaysUrl.searchParams.append(\"lat\", 37);\n    searchStaysUrl.searchParams.append(\"lon\", -122);\n\n    return fetch(searchStaysUrl, {\n        headers: {\n            Authorization: `Bearer ${authToken}`,\n        },\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to search stays\");\n        }\n\n        return response.json();\n    });\n};\n\nexport const deleteStay = (stayId) => {\n    const authToken = localStorage.getItem(\"authToken\");\n    const deleteStayUrl = `${domain}/stays/${stayId}`;\n\n    return fetch(deleteStayUrl, {\n        method: \"DELETE\",\n        headers: {\n            Authorization: `Bearer ${authToken}`,\n        },\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to delete stay\");\n        }\n    });\n};\n\nexport const bookStay = (data) => {\n    const authToken = localStorage.getItem(\"authToken\");\n    const bookStayUrl = `${domain}/reservations`;\n\n    return fetch(bookStayUrl, {\n        method: \"POST\",\n        headers: {\n            Authorization: `Bearer ${authToken}`,\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(data),\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to book reservation\");\n        }\n    });\n};\n\nexport const cancelReservation = (reservationId) => {\n    const authToken = localStorage.getItem(\"authToken\");\n    const cancelReservationUrl = `${domain}/reservations/${reservationId}`;\n\n    return fetch(cancelReservationUrl, {\n        method: \"DELETE\",\n        headers: {\n            Authorization: `Bearer ${authToken}`,\n        },\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to cancel reservation\");\n        }\n    });\n};\n\nexport const getReservationsByStay = (stayId) => {\n    const authToken = localStorage.getItem(\"authToken\");\n    const getReservationByStayUrl = `${domain}/stays/reservations/${stayId}`;\n\n    return fetch(getReservationByStayUrl, {\n        headers: {\n            Authorization: `Bearer ${authToken}`,\n        },\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to get reservations by stay\");\n        }\n\n        return response.json();\n    });\n};\n\nexport const uploadStay = (data) => {\n    const authToken = localStorage.getItem(\"authToken\");\n    const uploadStayUrl = `${domain}/stays`;\n\n    return fetch(uploadStayUrl, {\n        method: \"POST\",\n        headers: {\n            Authorization: `Bearer ${authToken}`,\n        },\n        body: data,\n    }).then((response) => {\n        if (response.status !== 200) {\n            throw Error(\"Fail to upload stay\");\n        }\n    });\n};\n","import React from \"react\";\nimport { Form, Button, Input, Space, Checkbox, message } from \"antd\";\nimport { UserOutlined } from \"@ant-design/icons\";\nimport { login, register } from \"../utils\";\n\nclass LoginPage extends React.Component {\n    formRef = React.createRef();\n    state = {\n        asHost: false,\n        loading: false,\n    };\n\n    onFinish = () => {\n        console.log(\"finish form\");\n    };\n\n    handleLogin = async () => {\n        const formInstance = this.formRef.current;\n\n        try {\n            await formInstance.validateFields();\n        } catch (error) {\n            return;\n        }\n\n        this.setState({\n            loading: true,\n        });\n\n        try {\n            const { asHost } = this.state;\n            const resp = await login(formInstance.getFieldsValue(true), asHost);\n            this.props.handleLoginSuccess(resp.token, asHost);\n        } catch (error) {\n            message.error(error.message);\n        } finally {\n            this.setState({\n                loading: false,\n            });\n        }\n    };\n\n    handleRegister = async () => {\n        const formInstance = this.formRef.current;\n\n        try {\n            await formInstance.validateFields();\n        } catch (error) {\n            return;\n        }\n\n        this.setState({\n            loading: true,\n        });\n\n        try {\n            await register(formInstance.getFieldsValue(true), this.state.asHost);\n            message.success(\"Register Successfully\");\n        } catch (error) {\n            message.error(error.message);\n        } finally {\n            this.setState({\n                loading: false,\n            });\n        }\n    };\n\n    handleCheckboxOnChange = (e) => {\n        this.setState({\n            asHost: e.target.checked,\n        });\n    };\n\n    render() {\n        return (\n            <div style={{ width: 500, margin: \"20px auto\" }}>\n                <Form ref={this.formRef} onFinish={this.onFinish}>\n                    <Form.Item\n                        name=\"username\"\n                        rules={[\n                            {\n                                required: true,\n                                message: \"Please input your Username!\",\n                            },\n                        ]}\n                    >\n                        <Input\n                            disabled={this.state.loading}\n                            prefix={<UserOutlined className=\"site-form-item-icon\" />}\n                            placeholder=\"Username\"\n                        />\n                    </Form.Item>\n                    <Form.Item\n                        name=\"password\"\n                        rules={[\n                            {\n                                required: true,\n                                message: \"Please input your Password!\",\n                            },\n                        ]}\n                    >\n                        <Input.Password\n                            disabled={this.state.loading}\n                            placeholder=\"Password\"\n                        />\n                    </Form.Item>\n                </Form>\n                <Space>\n                    <Checkbox\n                        disabled={this.state.loading}\n                        checked={this.state.asHost}\n                        onChange={this.handleCheckboxOnChange}\n                    >\n                        As Host\n                    </Checkbox>\n                    <Button\n                        onClick={this.handleLogin}\n                        disabled={this.state.loading}\n                        shape=\"round\"\n                        type=\"primary\"\n                    >\n                        Log in\n                    </Button>\n                    <Button\n                        onClick={this.handleRegister}\n                        disabled={this.state.loading}\n                        shape=\"round\"\n                        type=\"primary\"\n                    >\n                        Register\n                    </Button>\n                </Space>\n            </div>\n        );\n    }\n}\n\nexport default LoginPage;","import React from \"react\";\nimport { Form, Input, InputNumber, Button, message } from \"antd\";\nimport { uploadStay } from \"../utils\";\n \nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\n \nclass UploadStay extends React.Component {\n  state = {\n    loading: false,\n  };\n \n  fileInputRef = React.createRef();\n \n  handleSubmit = async (values) => {\n    const formData = new FormData();\n    const { files } = this.fileInputRef.current;\n \n    if (files.length > 5) {\n      message.error(\"You can at most upload 5 pictures.\");\n      return;\n    }\n \n    for (let i = 0; i < files.length; i++) {\n      formData.append(\"images\", files[i]);\n    }\n \n    formData.append(\"name\", values.name);\n    formData.append(\"address\", values.address);\n    formData.append(\"description\", values.description);\n    formData.append(\"guest_number\", values.guest_number);\n \n    this.setState({\n      loading: true,\n    });\n    try {\n      await uploadStay(formData);\n      message.success(\"upload successfully\");\n    } catch (error) {\n      message.error(error.message);\n    } finally {\n      this.setState({\n        loading: false,\n      });\n    }\n  };\n \n  render() {\n    return (\n      <Form\n        {...layout}\n        name=\"nest-messages\"\n        onFinish={this.handleSubmit}\n        style={{ maxWidth: 1000, margin: \"auto\" }}\n      >\n        <Form.Item name=\"name\" label=\"Name\" rules={[{ required: true }]}>\n          <Input />\n        </Form.Item>\n        <Form.Item name=\"address\" label=\"Address\" rules={[{ required: true }]}>\n          <Input />\n        </Form.Item>\n        <Form.Item\n          name=\"description\"\n          label=\"Description\"\n          rules={[{ required: true }]}\n        >\n          <Input.TextArea autoSize={{ minRows: 2, maxRows: 6 }} />\n        </Form.Item>\n        <Form.Item\n          name=\"guest_number\"\n          label=\"Guest Number\"\n          rules={[{ required: true, type: \"number\", min: 1 }]}\n        >\n          <InputNumber />\n        </Form.Item>\n        <Form.Item name=\"picture\" label=\"Picture\" rules={[{ required: true }]}>\n          <input\n            type=\"file\"\n            accept=\"image/png, image/jpeg\"\n            ref={this.fileInputRef}\n            multiple={true}\n          />\n        </Form.Item>\n        <Form.Item wrapperCol={{ ...layout.wrapperCol, offset: 8 }}>\n          <Button type=\"primary\" htmlType=\"submit\" loading={this.state.loading}>\n            Submit\n          </Button>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n \nexport default UploadStay;","import {\n    message,\n    Tabs,\n    List,\n    Card,\n    Image,\n    Carousel,\n    Button,\n    Tooltip,\n    Modal,\n    Space\n} from \"antd\";\nimport {\n    LeftCircleFilled,\n    RightCircleFilled,\n    InfoCircleOutlined,\n} from \"@ant-design/icons\";\nimport Text from \"antd/lib/typography/Text\";\nimport React from \"react\";\nimport { deleteStay, getReservationsByStay, getStaysByHost } from \"../utils\";\nimport UploadStay from \"./UploadStay\";\n\nconst { TabPane } = Tabs;\n\nclass RemoveStayButton extends React.Component {\n    state = {\n      loading: false,\n    };\n   \n    handleRemoveStay = async () => {\n      const { stay, onRemoveSuccess } = this.props;\n      this.setState({\n        loading: true,\n      });\n   \n      try {\n        await deleteStay(stay.id);\n        onRemoveSuccess();\n      } catch (error) {\n        message.error(error.message);\n      } finally {\n        this.setState({\n          loading: false,\n        });\n      }\n    };\n   \n    render() {\n      return (\n        <Button\n          loading={this.state.loading}\n          onClick={this.handleRemoveStay}\n          danger={true}\n          shape=\"round\"\n          type=\"primary\"\n        >\n          Remove Stay\n        </Button>\n      );\n    }\n}\n  \nclass ReservationList extends React.Component {\n    state = {\n      loading: false,\n      reservations: [],\n    };\n   \n    componentDidMount() {\n      this.loadData();\n    }\n   \n    loadData = async () => {\n      this.setState({\n        loading: true,\n      });\n   \n      try {\n        const resp = await getReservationsByStay(this.props.stayId);\n        this.setState({\n          reservations: resp,\n        });\n      } catch (error) {\n        message.error(error.message);\n      } finally {\n        this.setState({\n          loading: false,\n        });\n      }\n    };\n   \n    render() {\n      const { loading, reservations } = this.state;\n   \n      return (\n        <List\n          loading={loading}\n          dataSource={reservations}\n          renderItem={(item) => (\n            <List.Item>\n              <List.Item.Meta\n                title={<Text>Guest Name: {item.guest.username}</Text>}\n                description={\n                  <>\n                    <Text>Checkin Date: {item.checkin_date}</Text>\n                    <br />\n                    <Text>Checkout Date: {item.checkout_date}</Text>\n                  </>\n                }\n              />\n            </List.Item>\n          )}\n        />\n      );\n    }\n}\n   \nclass ViewReservationsButton extends React.Component {\n    state = {\n      modalVisible: false,\n    };\n   \n    openModal = () => {\n      this.setState({\n        modalVisible: true,\n      });\n    };\n   \n    handleCancel = () => {\n      this.setState({\n        modalVisible: false,\n      });\n    };\n   \n    render() {\n      const { stay } = this.props;\n      const { modalVisible } = this.state;\n   \n      const modalTitle = `Reservations of ${stay.name}`;\n   \n      return (\n        <>\n          <Button onClick={this.openModal} shape=\"round\">\n            View Reservations\n          </Button>\n          {modalVisible && (\n            <Modal\n              title={modalTitle}\n              centered={true}\n              visible={modalVisible}\n              closable={false}\n              footer={null}\n              onCancel={this.handleCancel}\n              destroyOnClose={true}\n            >\n              <ReservationList stayId={stay.id} />\n            </Modal>\n          )}\n        </>\n      );\n    }\n}\n  \n\nexport class StayDetailInfoButton extends React.Component {\n    state = {\n        modalVisible: false,\n    };\n\n    openModal = () => {\n        this.setState({\n            modalVisible: true,\n        });\n    };\n\n    handleCancel = () => {\n        this.setState({\n            modalVisible: false,\n        });\n    };\n\n    render() {\n        const { stay } = this.props;\n        const { name, description, address, guest_number } = stay;\n        const { modalVisible } = this.state;\n        return (\n            <>\n                <Tooltip title=\"View Stay Details\">\n                    <Button\n                        onClick={this.openModal}\n                        style={{ border: \"none\" }}\n                        size=\"large\"\n                        icon={<InfoCircleOutlined />}\n                    />\n                </Tooltip>\n                {modalVisible && (\n                    <Modal\n                        title={name}\n                        centered={true}\n                        visible={modalVisible}\n                        closable={false}\n                        footer={null}\n                        onCancel={this.handleCancel}\n                    >\n                        <Space direction=\"vertical\">\n                            <Text strong={true}>Description</Text>\n                            <Text type=\"secondary\">{description}</Text>\n                            <Text strong={true}>Address</Text>\n                            <Text type=\"secondary\">{address}</Text>\n                            <Text strong={true}>Guest Number</Text>\n                            <Text type=\"secondary\">{guest_number}</Text>\n                        </Space>\n                    </Modal>\n                )}\n            </>\n        );\n    }\n}\n\nclass MyStays extends React.Component {\n    state = {\n        loading: false,\n        data: [],\n    };\n\n    componentDidMount() {\n        this.loadData();\n    }\n\n    loadData = async () => {\n        this.setState({\n            loading: true,\n        });\n\n        try {\n            const resp = await getStaysByHost();\n            this.setState({\n                data: resp,\n            });\n        } catch (error) {\n            message.error(error.message);\n        } finally {\n            this.setState({\n                loading: false,\n            });\n        }\n    };\n\n    render() {\n        return (\n            <List\n                loading={this.state.loading}\n                grid={{\n                    gutter: 16,\n                    xs: 1,\n                    sm: 3,\n                    md: 3,\n                    lg: 3,\n                    xl: 4,\n                    xxl: 4,\n                }}\n                dataSource={this.state.data}\n                renderItem={(item) => (\n                    <List.Item>\n                        <Card\n                            key={item.id}\n                            title={\n                                <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                                    <Text ellipsis={true} style={{ maxWidth: 150 }}>\n                                        {item.name}\n                                    </Text>\n                                    <StayDetailInfoButton stay={item} />\n                                </div>\n                            }\n                            actions={[<ViewReservationsButton stay={item} />]}\n                            extra={<RemoveStayButton stay={item} onRemoveSuccess={this.loadData}/>}\n                        >\n                            {\n                                <Carousel\n                                    dots={false}\n                                    arrows={true}\n                                    prevArrow={<LeftCircleFilled />}\n                                    nextArrow={<RightCircleFilled />}\n                                >\n                                    {item.images.map((image, index) => (\n                                        <div key={index}>\n                                            <Image src={image.url} width=\"100%\" />\n                                        </div>\n                                    ))}\n                                </Carousel>\n                            }\n                        </Card>\n                    </List.Item>\n                )}\n            />\n        );\n    }\n}\n\n\nclass HostHomePage extends React.Component {\n    render() {\n        return (\n            <Tabs defaultActiveKey=\"1\" destroyInactiveTabPane={true}>\n                <TabPane tab=\"My Stays\" key=\"1\">\n                    <MyStays />\n                </TabPane>\n                <TabPane tab=\"Upload Stay\" key=\"2\">\n                    <UploadStay />\n                </TabPane>\n            </Tabs>\n        );\n    }\n}\n\nexport default HostHomePage;\n","import React from \"react\";\nimport {\n  Image,\n  message,\n  Tabs,\n  List,\n  Typography,\n  Form,\n  InputNumber,\n  DatePicker,\n  Button,\n  Card,\n  Carousel,\n  Modal,\n} from \"antd\";\nimport { getReservations,cancelReservation, searchStays, bookStay } from \"../utils\";\nimport { LeftCircleFilled, RightCircleFilled } from \"@ant-design/icons\";\nimport { StayDetailInfoButton } from \"./HostHomePage\";\n \nconst { TabPane } = Tabs;\nconst { Text } = Typography;\n\nclass CancelReservationButton extends React.Component {\n    state = {\n      loading: false,\n    };\n   \n    handleCancelReservation = async () => {\n      const { reservationId, onCancelSuccess } = this.props;\n      this.setState({\n        loading: true,\n      });\n   \n      try {\n        await cancelReservation(reservationId);\n      } catch (error) {\n        message.error(error.message);\n      } finally {\n        this.setState({\n          loading: false,\n        });\n      }\n   \n      onCancelSuccess();\n    };\n   \n    render() {\n      return (\n        <Button\n          loading={this.state.loading}\n          onClick={this.handleCancelReservation}\n          danger={true}\n          shape=\"round\"\n          type=\"primary\"\n        >\n          Cancel Reservation\n        </Button>\n      );\n    }\n  }\n  \n\nclass BookStayButton extends React.Component {\n    state = {\n      loading: false,\n      modalVisible: false,\n    };\n   \n    handleCancel = () => {\n      this.setState({\n        modalVisible: false,\n      });\n    };\n   \n    handleBookStay = () => {\n      this.setState({\n        modalVisible: true,\n      });\n    };\n   \n    handleSubmit = async (values) => {\n      const { stay } = this.props;\n      this.setState({\n        loading: true,\n      });\n   \n      try {\n        await bookStay({\n          checkin_date: values.checkin_date.format(\"YYYY-MM-DD\"),\n          checkout_date: values.checkout_date.format(\"YYYY-MM-DD\"),\n          stay: {\n            id: stay.id,\n          },\n        });\n        message.success(\"Successfully book stay\");\n      } catch (error) {\n        message.error(error.message);\n      } finally {\n        this.setState({\n          loading: false,\n        });\n      }\n    };\n   \n    render() {\n      const { stay } = this.props;\n      return (\n        <>\n          <Button onClick={this.handleBookStay} shape=\"round\" type=\"primary\">\n            Book Stay\n          </Button>\n          <Modal\n            destroyOnClose={true}\n            title={stay.name}\n            visible={this.state.modalVisible}\n            footer={null}\n            onCancel={this.handleCancel}\n          >\n            <Form\n              preserve={false}\n              labelCol={{ span: 8 }}\n              wrapperCol={{ span: 16 }}\n              onFinish={this.handleSubmit}\n            >\n              <Form.Item\n                label=\"Checkin Date\"\n                name=\"checkin_date\"\n                rules={[{ required: true }]}\n              >\n                <DatePicker />\n              </Form.Item>\n              <Form.Item\n                label=\"Checkout Date\"\n                name=\"checkout_date\"\n                rules={[{ required: true }]}\n              >\n                <DatePicker />\n              </Form.Item>\n              <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\n                <Button\n                  loading={this.state.loading}\n                  type=\"primary\"\n                  htmlType=\"submit\"\n                >\n                  Book\n                </Button>\n              </Form.Item>\n            </Form>\n          </Modal>\n        </>\n      );\n    }\n  }\n   \n\nclass SearchStays extends React.Component {\n    state = {\n      data: [],\n      loading: false,\n    };\n   \n    search = async (query) => {\n      this.setState({\n        loading: true,\n      });\n   \n      try {\n        const resp = await searchStays(query);\n        this.setState({\n          data: resp,\n        });\n      } catch (error) {\n        message.error(error.message);\n      } finally {\n        this.setState({\n          loading: false,\n        });\n      }\n    };\n   \n    render() {\n      return (\n        <>\n          <Form onFinish={this.search} layout=\"inline\">\n            <Form.Item\n              label=\"Guest Number\"\n              name=\"guest_number\"\n              rules={[{ required: true }]}\n            >\n              <InputNumber min={1} />\n            </Form.Item>\n            <Form.Item\n              label=\"Checkin Date\"\n              name=\"checkin_date\"\n              rules={[{ required: true }]}\n            >\n              <DatePicker />\n            </Form.Item>\n            <Form.Item\n              label=\"Checkout Date\"\n              name=\"checkout_date\"\n              rules={[{ required: true }]}\n            >\n              <DatePicker />\n            </Form.Item>\n            <Form.Item>\n              <Button\n                loading={this.state.loading}\n                type=\"primary\"\n                htmlType=\"submit\"\n              >\n                Submit\n              </Button>\n            </Form.Item>\n          </Form>\n          <List\n            style={{ marginTop: 20 }}\n            loading={this.state.loading}\n            grid={{\n              gutter: 16,\n              xs: 1,\n              sm: 3,\n              md: 3,\n              lg: 3,\n              xl: 4,\n              xxl: 4,\n            }}\n            dataSource={this.state.data}\n            renderItem={(item) => (\n              <List.Item>\n                <Card\n                  key={item.id}\n                  title={\n                    <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                      <Text ellipsis={true} style={{ maxWidth: 150 }}>\n                        {item.name}\n                      </Text>\n                      <StayDetailInfoButton stay={item} />\n                    </div>\n                  }\n                  extra={<BookStayButton stay={item} />}\n                >\n                  {\n                    <Carousel\n                      dots={false}\n                      arrows={true}\n                      prevArrow={<LeftCircleFilled />}\n                      nextArrow={<RightCircleFilled />}\n                    >\n                      {item.images.map((image, index) => (\n                        <div key={index}>\n                          <Image src={image.url} width=\"100%\" />\n                        </div>\n                      ))}\n                    </Carousel>\n                  }\n                </Card>\n              </List.Item>\n            )}\n          />\n        </>\n      );\n    }\n  }\n  \n \nclass MyReservations extends React.Component {\n  state = {\n    loading: false,\n    data: [],\n  };\n \n  componentDidMount() {\n    this.loadData();\n  }\n \n  loadData = async () => {\n    this.setState({\n      loading: true,\n    });\n \n    try {\n      const resp = await getReservations();\n      this.setState({\n        data: resp,\n      });\n    } catch (error) {\n      message.error(error.message);\n    } finally {\n      this.setState({\n        loading: false,\n      });\n    }\n  };\n \n  render() {\n    return (\n      <List\n        style={{ width: 1000, margin: \"auto\" }}\n        loading={this.state.loading}\n        dataSource={this.state.data}\n        renderItem={(item) => (\n          <List.Item actions={[<CancelReservationButton onCancelSuccess={this.loadData} reservationId={item.id} />]}>\n            <List.Item.Meta\n              title={<Text>{item.stay.name}</Text>}\n              description={\n                <>\n                  <Text>Checkin Date: {item.checkin_date}</Text>\n                  <br />\n                  <Text>Checkout Date: {item.checkout_date}</Text>\n                </>\n              }\n            />\n          </List.Item>\n        )}\n      />\n    );\n  }\n}\n  \n \nclass GuestHomePage extends React.Component {\n  render() {\n    return (\n      <Tabs defaultActiveKey=\"1\" destroyInactiveTabPane={true}>\n        <TabPane tab=\"Search Stays\" key=\"1\">\n          <SearchStays />\n        </TabPane>\n        <TabPane tab=\"My Reservations\" key=\"2\">\n            <MyReservations />\n        </TabPane>\n      </Tabs>\n    );\n  }\n}\n \nexport default GuestHomePage;","import { Layout, Dropdown, Menu, Button } from \"antd\";\nimport { UserOutlined } from \"@ant-design/icons\";\nimport React from \"react\";\nimport LoginPage from \"./components/LoginPage\";\nimport HostHomePage from \"./components/HostHomePage\";\nimport GuestHomePage from \"./components/GuestHomePage\";\n\nconst { Header, Content } = Layout;\n \nclass App extends React.Component {\n  state = {\n    authed: false,\n    asHost: false,\n  };\n \n  componentDidMount() {\n    const authToken = localStorage.getItem(\"authToken\");\n    const asHost = localStorage.getItem(\"asHost\") === \"true\";\n    this.setState({\n      authed: authToken !== null,\n      asHost,\n    });\n  }\n \n  handleLoginSuccess = (token, asHost) => {\n    localStorage.setItem(\"authToken\", token);\n    localStorage.setItem(\"asHost\", asHost);\n    this.setState({\n      authed: true,\n      asHost,\n    });\n  };\n \n  handleLogOut = () => {\n    localStorage.removeItem(\"authToken\");\n    localStorage.removeItem(\"asHost\");\n    this.setState({\n      authed: false,\n    });\n  };\n \n  renderContent = () => {\n    if (!this.state.authed) {\n      return <LoginPage handleLoginSuccess={this.handleLoginSuccess} />;\n    }\n \n    if (this.state.asHost) {\n      return <HostHomePage />;\n    }\n \n    return <GuestHomePage />;\n  };\n \n  userMenu = (\n    <Menu>\n      <Menu.Item key=\"logout\" onClick={this.handleLogOut}>\n        Log Out\n      </Menu.Item>\n    </Menu>\n  );\n \n  render() {\n    return (\n      <Layout style={{ height: \"100vh\" }}>\n        <Header style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          <div style={{ fontSize: 16, fontWeight: 600, color: \"white\" }}>\n            Stays Booking\n          </div>\n          {this.state.authed && (\n            <div>\n              <Dropdown trigger=\"click\" overlay={this.userMenu}>\n                <Button icon={<UserOutlined />} shape=\"circle\" />\n              </Dropdown>\n            </div>\n          )}\n        </Header>\n        <Content\n          style={{ height: \"calc(100% - 64px)\", margin: 20, overflow: \"auto\" }}\n        >\n          {this.renderContent()}\n        </Content>\n      </Layout>\n    );\n  }\n}\n \nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}